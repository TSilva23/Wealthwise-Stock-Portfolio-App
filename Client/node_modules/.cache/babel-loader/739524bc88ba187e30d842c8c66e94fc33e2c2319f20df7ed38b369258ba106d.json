{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useUser}from'./Usercontext';// Adjust the import path as needed\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AddStockToPortfolio=_ref=>{let{onStockAdded}=_ref;const{userId}=useUser();// Use the useUser hook to access userId\nconst[SYMBOL,setSYMBOL]=useState('');const[QUANTITY,setQuantity]=useState('');const[ACQUISITION_PRICE,setAcquisitionPrice]=useState('');const[ACQUISITION_DATE,setAcquisitionDate]=useState('');const[error,setError]=useState('');const handleSubmit=e=>{e.preventDefault();if(!userId){setError('You must be logged in to add a stock to your portfolio.');return;}axios.post('/api/portfolio/add',{SYMBOL,QUANTITY,ACQUISITION_PRICE,ACQUISITION_DATE},{headers:{// Assuming you are using sessions; if token-based auth, adjust accordingly\n'Authorization':\"Bearer \".concat(userId)}}).then(()=>{onStockAdded();setSYMBOL('');setQuantity('');setAcquisitionPrice('');setAcquisitionDate('');setError('');// Clear any existing error\n}).catch(error=>{console.error('Error adding stock to portfolio:',error);setError('Failed to add stock to portfolio. Please try again later.');});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Stock to Portfolio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:SYMBOL,onChange:e=>setSYMBOL(e.target.value),placeholder:\"Stock SYMBOL\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:QUANTITY,onChange:e=>setQuantity(e.target.value),placeholder:\"Quantity\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ACQUISITION_PRICE,onChange:e=>setAcquisitionPrice(e.target.value),placeholder:\"Acquisition Price\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:ACQUISITION_DATE,onChange:e=>setAcquisitionDate(e.target.value),placeholder:\"Acquisition Date\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add to Portfolio\"}),error&&/*#__PURE__*/_jsx(\"p\",{children:error})]});};export default AddStockToPortfolio;","map":{"version":3,"names":["React","useState","axios","useUser","jsx","_jsx","jsxs","_jsxs","AddStockToPortfolio","_ref","onStockAdded","userId","SYMBOL","setSYMBOL","QUANTITY","setQuantity","ACQUISITION_PRICE","setAcquisitionPrice","ACQUISITION_DATE","setAcquisitionDate","error","setError","handleSubmit","e","preventDefault","post","headers","concat","then","catch","console","onSubmit","children","type","value","onChange","target","placeholder","required"],"sources":["/home/tristan/Desktop/Capstone project/Wealthwise/my-app/Client/src/Components/Addtoportfolio.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useUser } from './Usercontext'; // Adjust the import path as needed\n\nconst AddStockToPortfolio = ({ onStockAdded }) => {\n  const { userId } = useUser(); // Use the useUser hook to access userId\n  const [SYMBOL, setSYMBOL] = useState('');\n  const [QUANTITY, setQuantity] = useState('');\n  const [ACQUISITION_PRICE, setAcquisitionPrice] = useState('');\n  const [ACQUISITION_DATE, setAcquisitionDate] = useState('');\n  const [error, setError] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userId) {\n      setError('You must be logged in to add a stock to your portfolio.');\n      return;\n    }\n    axios.post('/api/portfolio/add', {\n      SYMBOL,\n      QUANTITY,\n      ACQUISITION_PRICE,\n      ACQUISITION_DATE\n    }, {\n      headers: {\n        // Assuming you are using sessions; if token-based auth, adjust accordingly\n        'Authorization': `Bearer ${userId}`\n      }\n    })\n    .then(() => {\n      onStockAdded();\n      setSYMBOL('');\n      setQuantity('');\n      setAcquisitionPrice('');\n      setAcquisitionDate('');\n      setError(''); // Clear any existing error\n    })\n    .catch(error => {\n      console.error('Error adding stock to portfolio:', error);\n      setError('Failed to add stock to portfolio. Please try again later.');\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>Add Stock to Portfolio</h2>\n      <input type=\"text\" value={SYMBOL} onChange={e => setSYMBOL(e.target.value)} placeholder=\"Stock SYMBOL\" required />\n      <input type=\"number\" value={QUANTITY} onChange={e => setQuantity(e.target.value)} placeholder=\"Quantity\" required />\n      <input type=\"text\" value={ACQUISITION_PRICE} onChange={e => setAcquisitionPrice(e.target.value)} placeholder=\"Acquisition Price\" required />\n      <input type=\"date\" value={ACQUISITION_DATE} onChange={e => setAcquisitionDate(e.target.value)} placeholder=\"Acquisition Date\" required />\n      <button type=\"submit\">Add to Portfolio</button>\n      {error && <p>{error}</p>}\n    </form>\n  );\n};\n\nexport default AddStockToPortfolio;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
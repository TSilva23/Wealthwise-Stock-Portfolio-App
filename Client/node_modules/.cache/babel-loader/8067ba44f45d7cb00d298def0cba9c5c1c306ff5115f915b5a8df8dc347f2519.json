{"ast":null,"code":"var _jsxFileName = \"/home/tristan/Desktop/Capstone project/Wealthwise/my-app/Client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport axios from 'axios';\nimport StockDetails from './Components/Stockdetails';\nimport StockList from './Components/Stocklist';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [stocks, setAllStocks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const parseCSV = csv => {\n    const lines = csv.split('\\n');\n    const result = [];\n    const headers = lines[0].split(',');\n    for (let i = 1; i < lines.length; i++) {\n      const obj = {};\n      const currentline = lines[i].split(',');\n      for (let j = 0; j < headers.length; j++) {\n        obj[headers[j]] = currentline[j];\n      }\n      result.push(obj);\n    }\n    return result;\n  };\n  const FetchStocks = async () => {\n    try {\n      const response = await axios.get('/api/all-stocks');\n      const parsedData = parseCSV(response.data);\n      setAllStocks(parsedData);\n    } catch (error) {\n      console.error('Failed to load stocks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    axios.get('/api/all-stocks', {\n      responseType: 'text'\n    }).then(response => {\n      console.log(response);\n      try {\n        const parsedData = parseCSV(response.data);\n        setStocks(parsedData);\n      } catch (parseError) {\n        setError('Failed to parse stock data. Please try again later.');\n      }\n      setLoading(false);\n    }).catch(err => {\n      setError('Failed to load stocks. Please try again later.');\n      setLoading(false);\n    });\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(StockList, {\n          stocks: stocks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/stock/:symbol\",\n        element: /*#__PURE__*/_jsxDEV(StockDetails, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"l13Ybj3WGZLI1fxJdrmw4bEY1FM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Route","Routes","axios","StockDetails","StockList","jsxDEV","_jsxDEV","App","_s","stocks","setAllStocks","loading","setLoading","error","setError","parseCSV","csv","lines","split","result","headers","i","length","obj","currentline","j","push","FetchStocks","response","get","parsedData","data","console","responseType","then","log","setStocks","parseError","catch","err","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","$RefreshReg$"],"sources":["/home/tristan/Desktop/Capstone project/Wealthwise/my-app/Client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport axios from 'axios';\nimport StockDetails from './Components/Stockdetails';\nimport StockList from './Components/Stocklist';\nfunction App() {\n  const [stocks, setAllStocks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\nconst parseCSV = (csv) => {\n  const lines = csv.split('\\n');\n  const result = [];\n  const headers = lines[0].split(',');\n  for (let i = 1; i < lines.length; i++) {\n    const obj = {};\n    const currentline = lines[i].split(',');\n    for (let j = 0; j < headers.length; j++) {\n      obj[headers[j]] = currentline[j];\n    }\n    result.push(obj);\n  }\n  return result;\n}\nconst FetchStocks = async () => {\n  try {\n    const response = await axios.get('/api/all-stocks');\n    const parsedData = parseCSV(response.data);\n    setAllStocks(parsedData);\n  } catch (error) {\n    console.error('Failed to load stocks:', error);\n  } finally {\n    setLoading(false);\n}\n}\n\n\n  useEffect(() => {\n    axios.get('/api/all-stocks', { responseType: 'text' })\n      .then(response => {\n        console.log(response)\n        try {\n          const parsedData = parseCSV(response.data);\n          setStocks(parsedData);\n        } catch (parseError) {\n          setError('Failed to parse stock data. Please try again later.');\n        }\n        setLoading(false);\n      })\n      .catch(err => {\n        setError('Failed to load stocks. Please try again later.');\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<StockList stocks={stocks} />} />\n        <Route path=\"/stock/:symbol\" element={<StockDetails />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}